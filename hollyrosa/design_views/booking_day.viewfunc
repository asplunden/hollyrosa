<Document u'_design/booking_day'@u'29-a38f86257c81c386769a835db3ada6b8' {u'language': u'javascript', u'views': {u'slot_states': {u'map': u"function(doc) {\n          if (doc.type=='slot_state') {\n             emit([doc.booking_day_id, doc.slot_id], null); };\n      }"}, u'unscheduled_bookings_by_visiting_group_name': {u'map': u"function(doc) {  if (doc.type=='booking') {\n                 if ((doc.booking_day_id=='') && (doc.booking_state > -100)) { \n                      emit([doc.visiting_group_name], doc); }                                }\n                               }"}, u'slot_state_of_booking_day': {u'map': u"function(doc) {  if (doc.type=='slot_state') { emit(doc.booking_day_id, doc); }     }"}, u'all_booking_days': {u'map': u"function(doc) {\n          if ((doc.type=='booking_day') && (doc.subtype='program')) {\n                emit(doc.date, doc._id); };\n      }"}, u'slot_state_of_slot_id_and_booking_day_id': {u'map': u"function(doc) {  if (doc.type=='slot_state') { emit([doc.slot_id, doc.booking_day_id], null); }     }"}, u'slot_id_of_booking': {u'map': u"function(doc) {  if (doc.type=='booking') { emit(doc.slot_id, null); }     }"}, u'non_deleted_bookings_of_booking_day': {u'map': u"function(doc) {\n                 if (doc.type=='booking') {\n\t      if ((doc.booking_day_id != '') && (doc.booking_state > -100)) \n                    {\n                emit(doc.booking_day_id, doc);\n              }\n           }\n        }"}, u'unscheduled_bookings_by_date': {u'map': u"function(doc) {  \n  if (doc.type=='booking') {\n    if ((doc.booking_day_id=='') && (doc.booking_state > -100)) {\n        \n        tmp_from_date = new Date(doc.valid_from);\n        tmp_end_date = new Date(doc.valid_to);\n        \n        var one_day = 1000*60*60*24;\n        \n        for (tmp_day = tmp_from_date; tmp_day <= tmp_end_date; tmp_day = new Date(tmp_day.getTime() + one_day)) {\n            emit(tmp_day.toDateString(), doc);\n        }\n     }\n  }   \n}"}, u'slot_state_of_slot_id': {u'map': u"function(doc) {  if (doc.type=='slot_state') { emit(doc.slot_id, null); }     }"}}}>