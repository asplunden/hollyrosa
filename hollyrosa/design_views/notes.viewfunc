{"all_attachments_per_target": {"map": "function(doc) {\n    if (doc.type=='attachment') {emit(doc.target_id, 1); }}", "reduce": "function(keys, values, rereduce) { return sum(values);}"}, "notes_for_list_bookings": {"map": "function(doc) {\n    if ((doc.type=='activity') || (doc.type=='activity_group')) { if(doc.booking_info_id != null) emit(doc._id, {_id:doc.booking_info_id}); }}"}, "number_of_notes_per_target": {"map": "function(doc) {\n    if ((doc.type=='note') || (doc.type=='attachment')) {emit(doc.target_id, 1); }}", "reduce": "function(keys, values, rereduce) { return sum(values);}"}, "notes_by_target": {"map": "function(doc) {\n    if (doc.type=='note' || doc.type=='attachment') {emit(doc.target_id, null); }}"}, "notes_by_target_datesorted": {"map": "function(doc) {\n    if (doc.type=='note' || doc.type == 'attachment') {emit([doc.target_id, doc.timestamp], null); }}"}}